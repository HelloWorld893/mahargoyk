// tool/upload_new_spots.dart

import 'package:firebase_core/firebase_core.dart';
import 'package:cloud_firestore/cloud_firestore.dart';
import 'package:mahargoyk/firebase_options.dart';

Future<void> main() async {
  // --- Firebaseã®åˆæœŸåŒ– ---
  await Firebase.initializeApp(options: DefaultFirebaseOptions.currentPlatform);
  final firestore = FirebaseFirestore.instance;
  print('Firebaseã®åˆæœŸåŒ–ãŒå®Œäº†ã—ã¾ã—ãŸã€‚æ–°ã—ã„ã‚¹ãƒãƒƒãƒˆã®ç™»éŒ²ã‚’é–‹å§‹ã—ã¾ã™...');

  // --- 1. æ–°ã—ã„ã‚¹ãƒãƒƒãƒˆã®ãƒªã‚¹ãƒˆ ---
  final spotsData = [
    {
      'title': 'æœ‰é¦¬æ¸©æ³‰',
      'description': 'æ—¥æœ¬æœ€å¤ã®æ¸©æ³‰åœ°ã®ä¸€ã¤ã§ã€é‡‘æ³‰ãƒ»éŠ€æ³‰ã®2ç¨®é¡ã®æ³‰è³ªãŒæ¥½ã—ã‚ã¾ã™ã€‚',
      'address': 'å…µåº«çœŒç¥æˆ¸å¸‚åŒ—åŒºæœ‰é¦¬ç”º',
      'latitude': 34.7982278035815,
      'longitude':135.24947939162715,
      'imageUrl': 'assets/images/arima_onsen.png',
      'hours': 'æ–½è¨­ã«ã‚ˆã‚Šç•°ãªã‚‹',
      'price': 'æ–½è¨­ã«ã‚ˆã‚Šç•°ãªã‚‹',
      'access': 'ç¥æˆ¸é›»é‰„æœ‰é¦¬æ¸©æ³‰é§…ã‹ã‚‰ã™ã',
      'area': 'åŒ—ç¥',
      'genre': 'æ¸©æ³‰, è¦³å…‰',
    },
    {
      'title': 'å—äº¬ç”º',
      'description': 'æ¨ªæµœä¸­è¯è¡—ã€é•·å´æ–°åœ°ä¸­è¯è¡—ã¨ä¸¦ã¶æ—¥æœ¬ä¸‰å¤§ä¸­è¯è¡—ã®ä¸€ã¤ã€‚é£Ÿã¹æ­©ãã‚„æ•£ç­–ãŒæ¥½ã—ã‚ã¾ã™ã€‚',
      'address': 'å…µåº«çœŒç¥æˆ¸å¸‚ä¸­å¤®åŒºæ „ç”ºé€š1ä¸ç›®',
      'latitude': 34.688188,
      'longitude': 135.18807,
      'imageUrl': 'assets/images/Nankinmachi_Plaza.png',
      'hours': 'åº—èˆ—ã«ã‚ˆã‚Šç•°ãªã‚‹',
      'price': 'é£²é£Ÿä»£',
      'access': 'JRãƒ»é˜ªç¥å…ƒç”ºé§…ã‹ã‚‰å¾’æ­©5åˆ†',
      'area': 'ä¸­å¤®',
      'genre': 'ã‚°ãƒ«ãƒ¡, è¦³å…‰',
    },
    {
      'title': 'ç¥æˆ¸é ˆç£¨ã‚·ãƒ¼ãƒ¯ãƒ¼ãƒ«ãƒ‰',
      'description': 'ã‚·ãƒ£ãƒã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚„ã€å¤šæ§˜ãªæµ·ã®ç”Ÿãç‰©ã«å‡ºä¼šãˆã‚‹æ°´æ—é¤¨ã€‚',
      'address': 'å…µåº«çœŒç¥æˆ¸å¸‚é ˆç£¨åŒºè‹¥å®®ç”º1ä¸ç›®3-5',
      'latitude': 34.643972,
      'longitude': 135.128441,
      'imageUrl': 'assets/images/suma_se_world.png',
      'hours': '10:00ï½18:00',
      'price': 'å¤§äºº 3,100å††',
      'access': 'JRé ˆç£¨æµ·æµœå…¬åœ’é§…ã‹ã‚‰å¾’æ­©15åˆ†',
      'area': 'é ˆç£¨ãƒ»å‚æ°´',
      'genre': 'è¦³å…‰, å®¶æ—å‘ã‘',
    },
    {
      'title': 'ãƒã‚¨ãƒ“ã‚¢ã‚¹ã‚¿ã‚¸ã‚¢ãƒ ç¥æˆ¸',
      'description': 'Jãƒªãƒ¼ã‚°ã€Œãƒ´ã‚£ãƒƒã‚»ãƒ«ç¥æˆ¸ã€ã‚„ãƒ©ã‚°ãƒ“ãƒ¼ã®è©¦åˆãŒè¡Œã‚ã‚Œã‚‹å¤šç›®çš„çƒæŠ€å ´ã€‚',
      'address': 'å…µåº«çœŒç¥æˆ¸å¸‚å…µåº«åŒºå¾¡å´ç”º1ä¸ç›®2-2',
      'latitude': 34.654876,
      'longitude': 135.155891,
      'imageUrl': 'assets/images/Noevir_Stadium_Kobe.png',
      'hours': 'ã‚¤ãƒ™ãƒ³ãƒˆã«ã‚ˆã‚Šç•°ãªã‚‹',
      'price': 'ã‚¤ãƒ™ãƒ³ãƒˆã«ã‚ˆã‚Šç•°ãªã‚‹',
      'access': 'åœ°ä¸‹é‰„æµ·å²¸ç·šå¾¡å´å…¬åœ’é§…ã‹ã‚‰å¾’æ­©5åˆ†',
      'area': 'ä¸­å¤®',
      'genre': 'ã‚¹ãƒãƒ¼ãƒ„',
    },
    {
      'title': 'å¹³ç£¯æµ·é‡£ã‚Šå…¬åœ’',
      'description': 'å…¨é•·1,400mã®é‡£ã‚Šæ¡Ÿæ©‹ã‹ã‚‰é‡£ã‚ŠãŒæ¥½ã—ã‚ã‚‹ã€å­ã©ã‚‚ã‹ã‚‰å¤§äººã¾ã§æ¥½ã—ã‚ã‚‹æ–½è¨­ã€‚',
      'address': 'å…µåº«çœŒç¥æˆ¸å¸‚å‚æ°´åŒºå¹³ç£¯1-1-66',
      'latitude': 34.62732,
      'longitude': 135.068548,
      'imageUrl': 'assets/images/hiraiso_fish.png',
      'hours': 'å­£ç¯€ã«ã‚ˆã‚Šç•°ãªã‚‹',
      'price': 'å¤§äºº1,000å††ï¼ˆ4æ™‚é–“ï¼‰',
      'access': 'å±±é™½é›»é‰„æ±å‚æ°´é§…ã‹ã‚‰å¾’æ­©3åˆ†',
      'area': 'é ˆç£¨ãƒ»å‚æ°´',
      'genre': 'è‡ªç„¶, å®¶æ—å‘ã‘',
    },
    {
      'title': 'ã—ã‚ã‚ã›ã®æ‘',
      'description': 'å®¿æ³Šæ–½è¨­ã‚„æ¸©æ³‰ã€ã‚­ãƒ£ãƒ³ãƒ—å ´ãªã©ã€å¤šæ§˜ãªãƒ¬ã‚¸ãƒ£ãƒ¼æ–½è¨­ãŒæƒã†ç·åˆç¦ç¥‰ã‚¾ãƒ¼ãƒ³ã€‚',
      'address': 'å…µåº«çœŒç¥æˆ¸å¸‚åŒ—åŒºã—ã‚ã‚ã›ã®æ‘1-1',
      'latitude': 34.71101,
      'longitude': 135.112455,
      'imageUrl': 'assets/images/siawasenomura.png',
      'hours': 'æ–½è¨­ã«ã‚ˆã‚Šç•°ãªã‚‹',
      'price': 'ç„¡æ–™ï¼ˆä¸€éƒ¨æ–½è¨­ã¯æœ‰æ–™ï¼‰',
      'access': 'JRä¸‰ãƒå®®é§…ã‹ã‚‰ãƒã‚¹ã§ç´„25åˆ†',
      'area': 'åŒ—ç¥',
      'genre': 'è‡ªç„¶, å®¶æ—å‘ã‘',
    },
    {
      'title': 'å’Œç”°å²¬ç ²å°',
      'description': 'å‹æµ·èˆŸãŒè¨­è¨ˆã—ãŸã¨ä¼ãˆã‚‰ã‚Œã‚‹ã€å¹•æœ«ã®æ²¿å²¸é˜²è¡›æ–½è¨­ã€‚æ¯æœˆè¦‹å­¦ä¼šãŒé–‹å‚¬ã•ã‚Œã¦ã„ã¾ã™ã€‚',
      'address': 'å…µåº«çœŒç¥æˆ¸å¸‚å…µåº«åŒºå’Œç”°å´ç”º1-1-1',
      'latitude': 34.654868,
      'longitude': 135.15585,
      'imageUrl': 'assets/images/wadamisaki_bangaroll.png',
      'hours': 'æ¯æœˆç¬¬2æœ¨æ›œæ—¥',
      'price': 'ç„¡æ–™',
      'access': 'åœ°ä¸‹é‰„æµ·å²¸ç·šå’Œç”°å²¬é§…ã‹ã‚‰å¾’æ­©4åˆ†',
      'area': 'ä¸­å¤®',
      'genre': 'æ­´å², è¦³å…‰',
    },
    {
      'title': 'ã¿ãªã¨ã‚„ã¾æ°´æ—é¤¨',
      'description': 'å»ƒæ ¡ã«ãªã£ãŸå°å­¦æ ¡ã‚’ãƒªãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã—ãŸãƒ¦ãƒ‹ãƒ¼ã‚¯ãªæ°´æ—é¤¨ã€‚',
      'address': 'å…µåº«çœŒç¥æˆ¸å¸‚å…µåº«åŒºé›ªå¾¡æ‰€ç”º2-24-101 NATURE STUDIO EAST1F',
      'latitude': 34.68694,
      'longitude': 135.16362,
      'imageUrl': 'assets/images/minatoyama_suizokukan.png',
      'hours': '10:00ï½18:00',
      'price': 'å¤§äºº1,200å††',
      'access': 'JRä¸‰ãƒå®®é§…ã‹ã‚‰å¸‚ãƒã‚¹ã§20åˆ†ã€çŸ³äº•æ©‹ãƒã‚¹åœã‹ã‚‰å¾’æ­©1åˆ†',
      'area': 'ä¸­å¤®',
      'genre': 'è¦³å…‰, å®¶æ—å‘ã‘',
    },
    {
      'title': 'ç¥æˆ¸ä¸‰ç”°ãƒ—ãƒ¬ãƒŸã‚¢ãƒ ãƒ»ã‚¢ã‚¦ãƒˆãƒ¬ãƒƒãƒˆ',
      'description': 'ç´„200ã®å›½å†…å¤–ãƒ–ãƒ©ãƒ³ãƒ‰ãŒé›†ã¾ã‚‹ã€ã‚¢ãƒ¡ãƒªã‚«ã®è¡—ä¸¦ã¿ã‚’å†ç¾ã—ãŸã‚¢ã‚¦ãƒˆãƒ¬ãƒƒãƒˆãƒ¢ãƒ¼ãƒ«ã€‚',
      'address': 'å…µåº«çœŒç¥æˆ¸å¸‚åŒ—åŒºä¸Šæ´¥å°7ä¸ç›®3',
      'latitude': 34.860657,
      'longitude': 135.191852,
      'imageUrl': 'assets/images/kobesanda_autoreto.png',
      'hours': '10:00ï½20:00',
      'price': 'ç„¡æ–™',
      'access': 'ä¸‰ç”°é§…ã‹ã‚‰ãƒã‚¹',
      'area': 'åŒ—ç¥',
      'genre': 'ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°',
    },
    {
      'title': 'ã‚ã‚“ãŸã„ãƒ‘ãƒ¼ã‚¯ç¥æˆ¸ä¸‰ç”°',
      'description': 'æ˜å¤ªå­ã®è£½é€ å·¥ç¨‹ãŒè¦‹å­¦ã§ãã‚‹ãƒ†ãƒ¼ãƒãƒ‘ãƒ¼ã‚¯ã€‚å‡ºæ¥ãŸã¦æ˜å¤ªå­ã‚„ãƒ•ãƒ¼ãƒ‰ã‚³ãƒ¼ãƒŠãƒ¼ã‚‚äººæ°—ã€‚',
      'address': 'å…µåº«çœŒç¥æˆ¸å¸‚åŒ—åŒºèµ¤æ¾å°1-7-1',
      'latitude': 34.874595,
      'longitude': 135.186572,
      'imageUrl': 'assets/images/Mentai_Park_Kobe_Sanda.png',
      'hours': '9:00ï½17:30',
      'price': 'ç„¡æ–™',
      'access': 'JRä¸‰ç”°é§…ã‹ã‚‰ç„¡æ–™å·¡å›ãƒã‚¹',
      'area': 'åŒ—ç¥',
      'genre': 'ã‚°ãƒ«ãƒ¡, å®¶æ—å‘ã‘',
    },
    {
      'title': 'ç¥æˆ¸å¸‚ç«‹ç‹å­å‹•ç‰©åœ’',
      'description': 'ã‚¸ãƒ£ã‚¤ã‚¢ãƒ³ãƒˆãƒ‘ãƒ³ãƒ€ã‚„ã‚³ã‚¢ãƒ©ãªã©ã€äººæ°—å‹•ç‰©ã«ä¼šãˆã‚‹å‹•ç‰©åœ’ã€‚éŠåœ’åœ°ã‚‚ä½µè¨­ã•ã‚Œã¦ã„ã¾ã™ã€‚',
      'address': 'å…µåº«çœŒç¥æˆ¸å¸‚ç˜åŒºç‹å­ç”º3ä¸ç›®1',
      'latitude': 34.707198,
      'longitude': 135.208151,
      'imageUrl': 'assets/images/oji_zoo.png',
      'hours': '9:00ï½17:00ï¼ˆæ™‚æœŸã«ã‚ˆã‚Šç•°ãªã‚‹ï¼‰',
      'price': 'å¤§äºº600å††',
      'access': 'é˜ªæ€¥ç‹å­å…¬åœ’é§…ã‹ã‚‰å¾’æ­©3åˆ†',
      'area': 'ä¸­å¤®',
      'genre': 'è¦³å…‰, å®¶æ—å‘ã‘',
    },
  ];

  // --- 2. å„ã‚¹ãƒãƒƒãƒˆã‚’ 'spots' ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã«è¿½åŠ ã—ã€å‚ç…§ã‚’ãƒªã‚¹ãƒˆã«ä¿å­˜ ---
  final List<DocumentReference> spotRefs = [];
  final spotsCollection = firestore.collection('spots');

  for (final spotData in spotsData) {
    // åŒã˜ã‚¿ã‚¤ãƒˆãƒ«ã®ã‚¹ãƒãƒƒãƒˆãŒæ—¢ã«å­˜åœ¨ã™ã‚‹ã‹ç¢ºèªï¼ˆé‡è¤‡ç™»éŒ²ã‚’é¿ã‘ã‚‹ãŸã‚ï¼‰
    final existingSpot = await spotsCollection
        .where('title', isEqualTo: spotData['title'])
        .limit(1)
        .get();
    if (existingSpot.docs.isEmpty) {
      final spotRef = await spotsCollection.add(spotData);
      spotRefs.add(spotRef);
      print('  - ã‚¹ãƒãƒƒãƒˆã‚’è¿½åŠ ã—ã¾ã—ãŸ: ${spotData['title']}');
    } else {
      spotRefs.add(existingSpot.docs.first.reference);
      print('  - æ—¢å­˜ã®ã‚¹ãƒãƒƒãƒˆã‚’ä½¿ç”¨ã—ã¾ã™: ${spotData['title']}');
    }
  }

  print('ğŸ‰ ã™ã¹ã¦ã®ãƒ‡ãƒ¼ã‚¿ã®ç™»éŒ²ãŒå®Œäº†ã—ã¾ã—ãŸã€‚');
}